<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WillBoot-PRO ‚Ä¢ Aviator IA</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  body { background:#050505; }
  .neon-red { box-shadow:0 0 25px rgba(220,38,38,.6); }
  .glass { background:rgba(255,255,255,.04); backdrop-filter:blur(16px); }
  .signal { transition: all 0.3s; }
  .signal:hover { transform: scale(1.05); }
  #vip-chart-plane { position:absolute; width:30px; height:30px; background:red; border-radius:50%; transition: all 0.5s; }
</style>
</head>
<body class="text-white font-sans relative">

<!-- ==================== P√ÅGINA 1: LOGIN ==================== -->
<div id="page1-login" class="min-h-screen flex items-center justify-center">
  <div class="glass p-10 rounded-2xl w-full max-w-md border border-red-600/30">
    <h1 class="text-3xl font-black mb-6 text-center text-red-600">WILLBOOT-PRO</h1>
    <input id="user" placeholder="Usu√°rio"
      class="w-full mb-4 p-3 rounded bg-black border border-gray-700"/>
    <input id="pass" type="password" placeholder="Senha"
      class="w-full mb-6 p-3 rounded bg-black border border-gray-700"/>
    <button onclick="login()" class="w-full bg-red-600 py-3 rounded font-bold neon-red hover:bg-red-700">
      üîê ENTRAR
    </button>
    <p class="text-center text-sm text-gray-400 mt-6">
      Acesso ao Dashboard ‚Ä¢ VIP dispon√≠vel
    </p>
  </div>
</div>

<!-- ==================== P√ÅGINA 2: DASHBOARD NORMAL ==================== -->
<div id="page2-dashboard" class="hidden max-w-7xl mx-auto px-6 py-10">

  <!-- HEADER -->
  <div class="glass p-6 rounded-xl flex flex-col md:flex-row justify-between items-center border border-red-600/20">
    <div id="clock" class="text-red-500 font-bold"></div>
    <div class="flex gap-4 mt-4 md:mt-0">
      <button onclick="generateSignals('normal')" class="bg-red-600 px-6 py-3 rounded font-bold hover:bg-red-700">
        üî• GERAR SINAIS
      </button>
      <button onclick="chooseCasa()" class="bg-gray-800 px-6 py-3 rounded font-bold hover:bg-gray-700">
        üè¶ Escolher Casa
      </button>
      <button onclick="goVIP()" class="bg-yellow-600 px-6 py-3 rounded font-bold hover:bg-yellow-500">
        üíé ACESSO VIP
      </button>
      <button onclick="logout()" class="bg-gray-800 px-6 py-3 rounded font-bold hover:bg-gray-700">üö™ SAIR</button>
    </div>
  </div>

  <!-- SINAIS -->
  <div id="signals" class="grid md:grid-cols-3 gap-6 my-10"></div>

  <!-- GR√ÅFICO -->
  <div class="glass p-6 rounded-xl border border-red-600/20 relative">
    <h3 class="text-center font-bold mb-4">üìä Performance IA (Hist√≥rico Real)</h3>
    <canvas id="chart" height="120"></canvas>
  </div>

  <!-- UPLOAD HIST√ìRICO -->
  <div class="mt-6 glass p-6 rounded-xl border border-red-600/30 text-center">
    <h3 class="font-bold text-red-500 mb-4">üì∏ Upload Hist√≥rico Aviator</h3>
    <input type="file" id="uploadHist" accept="image/*"/>
    <button onclick="analyzeImage()" class="bg-red-600 px-6 py-3 rounded font-bold neon-red mt-3 hover:bg-red-700">Analisar</button>
  </div>
</div>

<!-- ==================== P√ÅGINA 3: VIP ==================== -->
<div id="page3-vip" class="hidden max-w-7xl mx-auto px-6 py-10">

  <!-- HEADER VIP -->
  <div class="glass p-6 rounded-xl flex flex-col md:flex-row justify-between items-center border border-yellow-600/20">
    <div class="text-yellow-400 font-bold">üïê Luanda ‚Ä¢ VIP</div>
    <div class="flex gap-4 mt-4 md:mt-0">
      <button onclick="generateSignals('vip')" class="bg-yellow-600 px-6 py-3 rounded font-bold hover:bg-yellow-500">
        üî• GERAR SINAIS ROSA
      </button>
      <button onclick="backToDashboard()" class="bg-gray-800 px-6 py-3 rounded font-bold hover:bg-gray-700">‚¨Ö Dashboard</button>
    </div>
  </div>

  <!-- SINAIS VIP -->
  <div id="vip-signals" class="grid md:grid-cols-3 gap-6 my-10"></div>

  <!-- GR√ÅFICO VIP COM AVI√ÉO -->
  <div class="glass p-6 rounded-xl border border-yellow-600/20 relative" style="height:200px;">
    <h3 class="text-center font-bold mb-4">üìä Performance VIP (Hist√≥rico Real)</h3>
    <canvas id="vipChart" height="120"></canvas>
    <div id="vip-chart-plane"></div>
  </div>
</div>

<script>
/* ================= LOGIN ================= */
function login(){
  if(user.value && pass.value){
    localStorage.setItem("vip","true");
    document.getElementById("page1-login").classList.add("hidden");
    document.getElementById("page2-dashboard").classList.remove("hidden");
    loadHistory();
  }
}
function logout(){
  localStorage.removeItem("vip");
  location.reload();
}
if(localStorage.getItem("vip")) login();

/* ================= CLOCK ================= */
setInterval(()=>{
  let now = new Date().toLocaleString("pt-PT",{timeZone:"Africa/Luanda"});
  document.getElementById('clock').innerHTML = `üïê Luanda ‚Ä¢ ${now}`;
},1000);

/* ================= IA M√ÉE ================= */
let history = JSON.parse(localStorage.getItem("history")||"[]");
let chart, vipChart;

function IA(tipo){
  let mult, conf;
  if(tipo==='azul'){
    mult = (1.05 + Math.random()*0.9).toFixed(2);
    conf = Math.floor(60 + Math.random()*20);
  } else if(tipo==='roxo'){
    mult = (2.1 + Math.random()*5).toFixed(2);
    conf = Math.floor(70 + Math.random()*20);
  } else {
    mult = (12 + Math.random()*50).toFixed(2);
    conf = Math.floor(80 + Math.random()*15); // VIP ROSA acima 80%
  }
  return {mult, conf};
}

/* ================= GERAR SINAIS ================= */
function generateSignals(mode){
  const tipos = mode==='vip'
    ? [{t:"ROSA",c:"pink"}]
    : [{t:"AZUL",c:"cyan"},{t:"ROXO",c:"purple"},{t:"ROSA",c:"pink"}];

  const targetDiv = mode==='vip'? document.getElementById("vip-signals") : document.getElementById("signals");

  targetDiv.innerHTML = tipos.map(x=>{
    let r = IA(x.t.toLowerCase());
    if(mode!=='vip') history.push(r.conf);
    return `
    <div class="glass p-4 rounded-xl border border-${x.c}-500/40 text-center signal">
      <h3 class="font-bold text-${x.c}-400 mb-2">SINAL ${x.t}</h3>
      <div class="text-4xl font-black text-${x.c}-300 mb-2">√ó${r.mult}</div>
      <p>Confian√ßa IA: <b>${r.conf}%</b></p>
    </div>`;
  }).join("");

  localStorage.setItem("history",JSON.stringify(history));
  updateChart(mode);
}

/* ================= CHART ================= */
function loadHistory(){ updateChart('normal'); }

function updateChart(mode){
  let dataArr = history.slice(-50);
  const ctx = mode==='vip'? document.getElementById("vipChart").getContext("2d") : document.getElementById("chart").getContext("2d");
  if(mode==='vip') movePlane(dataArr);

  if(mode==='vip' && vipChart) vipChart.destroy();
  if(mode==='normal' && chart) chart.destroy();

  const cfg = {
    type:"line",
    data:{
      labels:dataArr.map((_,i)=>i+1),
      datasets:[{
        data:dataArr,
        borderColor: mode==='vip'?"#facc15":"#dc2626",
        backgroundColor: mode==='vip'?"rgba(250,204,21,0.2)":"rgba(220,38,38,0.2)",
        tension:.4,
        fill:true
      }]
    },
    options:{ plugins:{legend:{display:false}}, scales:{y:{min:60,max:100}} }
  };

  if(mode==='vip') vipChart = new Chart(ctx, cfg);
  else chart = new Chart(ctx, cfg);
}

/* ================= AVI√ÉO VIP ================= */
function movePlane(dataArr){
  const plane = document.getElementById("vip-chart-plane");
  let val = dataArr[dataArr.length-1] || 80;
  plane.style.top = (150 - val) + "px"; // ajuste vertical
  plane.style.left = "calc(80% - 30px)"; // direita
}

/* ================= CASA DE APOSTA ================= */
function chooseCasa(){
  let casa = prompt("Escolha a casa de apostas: ElephantBet, BantuBet, 888Bet, TopAposta");
  if(casa) alert("Casa selecionada: "+casa);
}

/* ================= VIP ================= */
function goVIP(){
  document.getElementById("page2-dashboard").classList.add("hidden");
  document.getElementById("page3-vip").classList.remove("hidden");
  generateSignals('vip');
}

function backToDashboard(){
  document.getElementById("page3-vip").classList.add("hidden");
  document.getElementById("page2-dashboard").classList.remove("hidden");
}

/* ================= UPLOAD HIST√ìRICO ================= */
function analyzeImage(){
  const file = document.getElementById("uploadHist").files[0];
  if(!file){ alert("Escolha uma imagem!"); return; }
  alert("Imagem enviada para an√°lise da IA (OCR/Hist√≥rico)"); 
  // Aqui futuramente integrar backend FastAPI
}

</script>
</body>
</html>
